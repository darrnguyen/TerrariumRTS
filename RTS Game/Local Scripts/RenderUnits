local renderUnit = game.ReplicatedStorage.RenderUnit
local troop = workspace.UnitDisplay.RenderedTroop

renderUnit.OnClientEvent:Connect(function(model : Model)
	local clone = troop:Clone()
	clone.Parent = model
	clone.Torso.BrickColor = game.Players:FindFirstChild(model:GetAttribute("Owner")).TeamColor
	task.wait(0.025)
	clone.PrimaryPart:PivotTo(model.PrimaryPart.CFrame + Vector3.new(0,0.25,0))
	
	local weld = Instance.new("WeldConstraint")
	weld.Parent = model
	weld.Part0 = model.PrimaryPart
	weld.Part1 = clone.PrimaryPart
	
	for index, parts in pairs(clone:GetChildren()) do
		parts.Parent = model
	end
	clone:Destroy()
end)
